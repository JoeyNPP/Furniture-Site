{"ast":null,"code":"import axios from\"axios\";import{updateProduct}from\"./api\";// Ensure this points to the correct API function\nconst API_URL=\"https://api.kit.com/v4/broadcasts\";const API_KEY=\"kit_a0a183e8fd744ca557d96126e488ae22\";const headers={Accept:\"application/json\",\"Content-Type\":\"application/json\",\"X-Kit-Api-Key\":API_KEY};/**\n * Send Individual Emails & Update Last Sent\n */export async function sendIndividualEmails(selectedProducts){if(!selectedProducts||selectedProducts.length===0){console.error(\"No products selected for individual email.\");return;}for(const product of selectedProducts){if(!product||!product.title){console.error(\"Skipping invalid product:\",product);continue;}// Standardize lead time and price formatting as needed\nlet leadTime=product.lead_time||\"\";if(leadTime.includes(\"Days\")){leadTime=leadTime.replace(\"Days\",\"Business Days\");}let price=product.price||\"0\";try{price=parseFloat(price).toFixed(2);}catch{// Leave as is\n}// Build the email body (matches your Python formatting)\nconst emailBody=buildPythonStyleEmail({subject:product.title||\"\",amazonUrl:product.amazon_url||\"\",walmartUrl:product.walmart_url||\"\",ebayUrl:product.ebay_url||\"\",imageUrl:product.image_url||\"\",price,moq:product.moq||\"0\",qty:product.qty||\"0\",asin:product.asin||\"\",fob:product.fob||\"\",expDate:product.exp_date||\"\",leadTime});const emailData={subject:(product.title||\"\").trim(),content:emailBody,public:false,// Draft mode\nemail_template_id:null};try{const response=await axios.post(API_URL,emailData,{headers});if(response.status===201){console.log(`✅ Email draft successfully created for: ${product.title}`);if(product.id){try{console.log(`⏳ Updating last_sent for Product ID: ${product.id}`);await updateLastSent(product.id);console.log(`✅ last_sent successfully updated for: ${product.id}`);}catch(err){console.error(`❌ Failed to update last_sent for ${product.id}:`,err);}}else{console.error(`❌ Invalid product ID for last_sent update:`,product);}}else{console.error(`❌ Failed to send email for ${product.title}:`,response.data);}}catch(error){console.error(`Error sending email for ${product.title}:`,error);}}}/**\n * Send Group Email & Update Last Sent for All Products\n */export async function sendGroupEmail(selectedProducts){if(!selectedProducts||selectedProducts.length===0){console.error(\"No products selected for group email.\");return;}let combinedHTML=\"\";for(const product of selectedProducts){if(!product||!product.title){console.error(\"Skipping invalid product in group:\",product);continue;}let leadTime=product.lead_time||\"\";if(leadTime.includes(\"Days\")){leadTime=leadTime.replace(\"Days\",\"Business Days\");}let price=product.price||\"0\";try{price=parseFloat(price).toFixed(2);}catch{// Leave as is\n}combinedHTML+=buildPythonStyleEmail({subject:product.title||\"\",amazonUrl:product.amazon_url||\"\",walmartUrl:product.walmart_url||\"\",ebayUrl:product.ebay_url||\"\",imageUrl:product.image_url||\"\",price,moq:product.moq||\"0\",qty:product.qty||\"0\",asin:product.asin||\"\",fob:product.fob||\"\",expDate:product.exp_date||\"\",leadTime});combinedHTML+=\"<hr>\";}const emailData={subject:`Group Deal: ${selectedProducts.length} Products Available!`,content:combinedHTML,public:false,email_template_id:null};try{const response=await axios.post(API_URL,emailData,{headers});if(response.status===201){console.log(\"✅ Group email draft successfully created.\");for(const product of selectedProducts){if(product&&product.id){try{console.log(`⏳ Updating last_sent for Product ID: ${product.id}`);await updateLastSent(product.id);console.log(`✅ last_sent successfully updated for: ${product.id}`);}catch(err){console.error(`❌ Failed to update last_sent for ${product.id}:`,err);}}else{console.error(`❌ Invalid product ID for last_sent update:`,product);}}}else{console.error(\"❌ Failed to send group email:\",response.data);}}catch(error){console.error(\"Error sending group email:\",error);}}/**\n * Update Last Sent Timestamp in DB\n * The updateProduct function (from your api.js) returns the parsed JSON,\n * so we remove the check on response.status and simply await the update.\n */async function updateLastSent(productId){if(!productId){console.error(\"❌ updateLastSent called with invalid product ID.\");return;}try{console.log(`⏳ Sending update request for last_sent: ${productId}`);await updateProduct(productId,{last_sent:new Date().toISOString()});console.log(`✅ Successfully updated last_sent for Product ID: ${productId}`);}catch(err){console.error(`❌ Error updating last_sent for product ${productId}:`,err);}}/**\n * Build the Email EXACTLY Like Python Code\n */function buildPythonStyleEmail(_ref){let{subject,amazonUrl,walmartUrl,ebayUrl,imageUrl,price,moq,qty,asin,fob,expDate,leadTime}=_ref;let emailBody=`\n    <div style=\"text-align:center; padding:20px;\">\n        <h2 style=\"font-size:18px; margin-bottom:20px;\">${subject}</h2>\n        <img src=\"${imageUrl}\" alt=\"${subject}\" style=\"max-width:300px; max-height:300px; object-fit:contain; display:block; margin:auto; margin-top:40px; margin-bottom:40px;\"/>\n  `;if(amazonUrl.includes(\"https\")){emailBody+=`\n            <a href=\"${amazonUrl}\" style=\"background-color:#FF9900; color:white; padding:15px 25px; text-decoration:none; display:inline-block; font-size:16px; margin:5px; border-radius:5px;\">Amazon Link</a>\n    `;}if(walmartUrl.includes(\"https\")){emailBody+=`\n            <a href=\"${walmartUrl}\" style=\"background-color:#0071CE; color:white; padding:15px 25px; text-decoration:none; display:inline-block; font-size:16px; margin:5px; border-radius:5px;\">Walmart Link</a>\n    `;}if(ebayUrl.includes(\"https\")){emailBody+=`\n            <a href=\"${ebayUrl}\" style=\"background-color:#E53238; color:white; padding:15px 25px; text-decoration:none; display:inline-block; font-size:16px; margin:5px; border-radius:5px;\">eBay Link</a>\n    `;}emailBody+=`\n            <p style=\"font-size:18px; margin-top:40px;\">$${price} EA, MOQ ${moq}, ${qty} Available.</p>\n            <p style=\"font-size:18px;\">ASIN: ${asin}</p>\n  `;if(fob)emailBody+=`<p style=\"font-size:18px;\">FOB: ${fob}</p>`;if(expDate)emailBody+=`<p style=\"font-size:18px;\">Expiration Date: ${expDate}</p>`;emailBody+=`<p style=\"font-size:18px;\">Lead Time: ${leadTime}</p></div>`;return emailBody;}","map":{"version":3,"names":["axios","updateProduct","API_URL","API_KEY","headers","Accept","sendIndividualEmails","selectedProducts","length","console","error","product","title","leadTime","lead_time","includes","replace","price","parseFloat","toFixed","emailBody","buildPythonStyleEmail","subject","amazonUrl","amazon_url","walmartUrl","walmart_url","ebayUrl","ebay_url","imageUrl","image_url","moq","qty","asin","fob","expDate","exp_date","emailData","trim","content","public","email_template_id","response","post","status","log","id","updateLastSent","err","data","sendGroupEmail","combinedHTML","productId","last_sent","Date","toISOString","_ref"],"sources":["/root/NPP_Deals/frontend/src/emailSender.js"],"sourcesContent":["import axios from \"axios\";\nimport { updateProduct } from \"./api\"; // Ensure this points to the correct API function\n\nconst API_URL = \"https://api.kit.com/v4/broadcasts\";\nconst API_KEY = \"kit_a0a183e8fd744ca557d96126e488ae22\";\n\nconst headers = {\n  Accept: \"application/json\",\n  \"Content-Type\": \"application/json\",\n  \"X-Kit-Api-Key\": API_KEY,\n};\n\n/**\n * Send Individual Emails & Update Last Sent\n */\nexport async function sendIndividualEmails(selectedProducts) {\n  if (!selectedProducts || selectedProducts.length === 0) {\n    console.error(\"No products selected for individual email.\");\n    return;\n  }\n\n  for (const product of selectedProducts) {\n    if (!product || !product.title) {\n      console.error(\"Skipping invalid product:\", product);\n      continue;\n    }\n\n    // Standardize lead time and price formatting as needed\n    let leadTime = product.lead_time || \"\";\n    if (leadTime.includes(\"Days\")) {\n      leadTime = leadTime.replace(\"Days\", \"Business Days\");\n    }\n    let price = product.price || \"0\";\n    try {\n      price = parseFloat(price).toFixed(2);\n    } catch {\n      // Leave as is\n    }\n\n    // Build the email body (matches your Python formatting)\n    const emailBody = buildPythonStyleEmail({\n      subject: product.title || \"\",\n      amazonUrl: product.amazon_url || \"\",\n      walmartUrl: product.walmart_url || \"\",\n      ebayUrl: product.ebay_url || \"\",\n      imageUrl: product.image_url || \"\",\n      price,\n      moq: product.moq || \"0\",\n      qty: product.qty || \"0\",\n      asin: product.asin || \"\",\n      fob: product.fob || \"\",\n      expDate: product.exp_date || \"\",\n      leadTime,\n    });\n\n    const emailData = {\n      subject: (product.title || \"\").trim(),\n      content: emailBody,\n      public: false, // Draft mode\n      email_template_id: null,\n    };\n\n    try {\n      const response = await axios.post(API_URL, emailData, { headers });\n      if (response.status === 201) {\n        console.log(`✅ Email draft successfully created for: ${product.title}`);\n      \n        if (product.id) {\n          try {\n            console.log(`⏳ Updating last_sent for Product ID: ${product.id}`);\n            await updateLastSent(product.id);\n            console.log(`✅ last_sent successfully updated for: ${product.id}`);\n          } catch (err) {\n            console.error(`❌ Failed to update last_sent for ${product.id}:`, err);\n          }\n        } else {\n          console.error(`❌ Invalid product ID for last_sent update:`, product);\n        }\n      } else {\n        console.error(`❌ Failed to send email for ${product.title}:`, response.data);\n      }\n    } catch (error) {\n      console.error(`Error sending email for ${product.title}:`, error);\n    }\n  }\n}\n\n/**\n * Send Group Email & Update Last Sent for All Products\n */\nexport async function sendGroupEmail(selectedProducts) {\n  if (!selectedProducts || selectedProducts.length === 0) {\n    console.error(\"No products selected for group email.\");\n    return;\n  }\n\n  let combinedHTML = \"\";\n  for (const product of selectedProducts) {\n    if (!product || !product.title) {\n      console.error(\"Skipping invalid product in group:\", product);\n      continue;\n    }\n\n    let leadTime = product.lead_time || \"\";\n    if (leadTime.includes(\"Days\")) {\n      leadTime = leadTime.replace(\"Days\", \"Business Days\");\n    }\n    let price = product.price || \"0\";\n    try {\n      price = parseFloat(price).toFixed(2);\n    } catch {\n      // Leave as is\n    }\n\n    combinedHTML += buildPythonStyleEmail({\n      subject: product.title || \"\",\n      amazonUrl: product.amazon_url || \"\",\n      walmartUrl: product.walmart_url || \"\",\n      ebayUrl: product.ebay_url || \"\",\n      imageUrl: product.image_url || \"\",\n      price,\n      moq: product.moq || \"0\",\n      qty: product.qty || \"0\",\n      asin: product.asin || \"\",\n      fob: product.fob || \"\",\n      expDate: product.exp_date || \"\",\n      leadTime,\n    });\n\n    combinedHTML += \"<hr>\";\n  }\n\n  const emailData = {\n    subject: `Group Deal: ${selectedProducts.length} Products Available!`,\n    content: combinedHTML,\n    public: false,\n    email_template_id: null,\n  };\n\n  try {\n    const response = await axios.post(API_URL, emailData, { headers });\n    if (response.status === 201) {\n      console.log(\"✅ Group email draft successfully created.\");\n    \n      for (const product of selectedProducts) {\n        if (product && product.id) {\n          try {\n            console.log(`⏳ Updating last_sent for Product ID: ${product.id}`);\n            await updateLastSent(product.id);\n            console.log(`✅ last_sent successfully updated for: ${product.id}`);\n          } catch (err) {\n            console.error(`❌ Failed to update last_sent for ${product.id}:`, err);\n          }\n        } else {\n          console.error(`❌ Invalid product ID for last_sent update:`, product);\n        }\n      }\n    } else {\n      console.error(\"❌ Failed to send group email:\", response.data);\n    }\n  } catch (error) {\n    console.error(\"Error sending group email:\", error);\n  }\n}\n\n/**\n * Update Last Sent Timestamp in DB\n * The updateProduct function (from your api.js) returns the parsed JSON,\n * so we remove the check on response.status and simply await the update.\n */\nasync function updateLastSent(productId) {\n  if (!productId) {\n    console.error(\"❌ updateLastSent called with invalid product ID.\");\n    return;\n  }\n\n  try {\n    console.log(`⏳ Sending update request for last_sent: ${productId}`);\n    await updateProduct(productId, { last_sent: new Date().toISOString() });\n    console.log(`✅ Successfully updated last_sent for Product ID: ${productId}`);\n  } catch (err) {\n    console.error(`❌ Error updating last_sent for product ${productId}:`, err);\n  }\n}\n\n/**\n * Build the Email EXACTLY Like Python Code\n */\nfunction buildPythonStyleEmail({\n  subject,\n  amazonUrl,\n  walmartUrl,\n  ebayUrl,\n  imageUrl,\n  price,\n  moq,\n  qty,\n  asin,\n  fob,\n  expDate,\n  leadTime,\n}) {\n  let emailBody = `\n    <div style=\"text-align:center; padding:20px;\">\n        <h2 style=\"font-size:18px; margin-bottom:20px;\">${subject}</h2>\n        <img src=\"${imageUrl}\" alt=\"${subject}\" style=\"max-width:300px; max-height:300px; object-fit:contain; display:block; margin:auto; margin-top:40px; margin-bottom:40px;\"/>\n  `;\n\n  if (amazonUrl.includes(\"https\")) {\n    emailBody += `\n            <a href=\"${amazonUrl}\" style=\"background-color:#FF9900; color:white; padding:15px 25px; text-decoration:none; display:inline-block; font-size:16px; margin:5px; border-radius:5px;\">Amazon Link</a>\n    `;\n  }\n  if (walmartUrl.includes(\"https\")) {\n    emailBody += `\n            <a href=\"${walmartUrl}\" style=\"background-color:#0071CE; color:white; padding:15px 25px; text-decoration:none; display:inline-block; font-size:16px; margin:5px; border-radius:5px;\">Walmart Link</a>\n    `;\n  }\n  if (ebayUrl.includes(\"https\")) {\n    emailBody += `\n            <a href=\"${ebayUrl}\" style=\"background-color:#E53238; color:white; padding:15px 25px; text-decoration:none; display:inline-block; font-size:16px; margin:5px; border-radius:5px;\">eBay Link</a>\n    `;\n  }\n\n  emailBody += `\n            <p style=\"font-size:18px; margin-top:40px;\">$${price} EA, MOQ ${moq}, ${qty} Available.</p>\n            <p style=\"font-size:18px;\">ASIN: ${asin}</p>\n  `;\n\n  if (fob) emailBody += `<p style=\"font-size:18px;\">FOB: ${fob}</p>`;\n  if (expDate) emailBody += `<p style=\"font-size:18px;\">Expiration Date: ${expDate}</p>`;\n\n  emailBody += `<p style=\"font-size:18px;\">Lead Time: ${leadTime}</p></div>`;\n\n  return emailBody;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}